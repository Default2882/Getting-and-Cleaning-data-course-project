cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
split <- split(tidydata, tidydata$Subjects)
split["25"]
#str(tidydata)
}
avg()
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata <- factor(tidydata$Subjects, labels = 1:30)
head(tidydata)
}
avg()
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
head(tidydata)
}
avg()
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
str(tidydata)
}
avg()
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
lapply(tidydata$V1 , mean)
}
avg()
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
lapply(split(tidydata, interact), function(x) colMeans(x$V1))
}
avg()
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
lapply(split(tidydata, interact), function(x) mean(x$V1))
}
avg()
library(data.table)
library(dplyr)
testmakedataset <- function(){
testset <- read.table("../Raw data/test/X_test.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
testset <- testset[k[1]]
#setnames(testset , old = names(testset) , new =  as.character(lapply(names(testset), paste0, "test")))
activity <- read.table("../Raw data/test/y_test.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
testsubject <- read.table("../Raw data/test/subject_test.txt")
setnames(testsubject ,old = "V1",new = "Subjects")
cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
head(lapply(split(tidydata, interact), function(x) mean(x$V1)))
}
avg()
library(data.table)
library(dplyr)
testmakedataset <- function(){
testset <- read.table("../Raw data/test/X_test.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
testset <- testset[k[1]]
#setnames(testset , old = names(testset) , new =  as.character(lapply(names(testset), paste0, "test")))
activity <- read.table("../Raw data/test/y_test.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
testsubject <- read.table("../Raw data/test/subject_test.txt")
setnames(testsubject ,old = "V1",new = "Subjects")
cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
mymean <- lapply(split(tidydata, interact), function(x) mean(x$V1))
print(names(mymean))
print(class(mymean))
}
avg()
library(data.table)
library(dplyr)
testmakedataset <- function(){
testset <- read.table("../Raw data/test/X_test.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
testset <- testset[k[1]]
#setnames(testset , old = names(testset) , new =  as.character(lapply(names(testset), paste0, "test")))
activity <- read.table("../Raw data/test/y_test.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
testsubject <- read.table("../Raw data/test/subject_test.txt")
setnames(testsubject ,old = "V1",new = "Subjects")
cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
mymean <- sapply(split(tidydata, interact), function(x) mean(x$V1), simplify = T)
#activity.subject <- names(mymean)
#value.mean <-
mymean
}
avg()
library(data.table)
library(dplyr)
testmakedataset <- function(){
testset <- read.table("../Raw data/test/X_test.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
testset <- testset[k[1]]
#setnames(testset , old = names(testset) , new =  as.character(lapply(names(testset), paste0, "test")))
activity <- read.table("../Raw data/test/y_test.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
testsubject <- read.table("../Raw data/test/subject_test.txt")
setnames(testsubject ,old = "V1",new = "Subjects")
cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
mymean <- sapply(split(tidydata, interact), function(x) mean(x$V1), simplify = T)
#activity.subject <- names(mymean)
#value.mean <-
class(mymean)
}
avg()
library(data.table)
library(dplyr)
testmakedataset <- function(){
testset <- read.table("../Raw data/test/X_test.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
testset <- testset[k[1]]
#setnames(testset , old = names(testset) , new =  as.character(lapply(names(testset), paste0, "test")))
activity <- read.table("../Raw data/test/y_test.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
testsubject <- read.table("../Raw data/test/subject_test.txt")
setnames(testsubject ,old = "V1",new = "Subjects")
cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
mymean <- lapply(split(tidydata, interact), function(x) mean(x$V1), simplify = T)
activity.subject <- names(mymean)
as.vector(mymean)
}
avg()
library(data.table)
library(dplyr)
testmakedataset <- function(){
testset <- read.table("../Raw data/test/X_test.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
testset <- testset[k[1]]
#setnames(testset , old = names(testset) , new =  as.character(lapply(names(testset), paste0, "test")))
activity <- read.table("../Raw data/test/y_test.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
testsubject <- read.table("../Raw data/test/subject_test.txt")
setnames(testsubject ,old = "V1",new = "Subjects")
cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
mymean <- lapply(split(tidydata, interact), function(x) mean(x$V1))
activity.subject <- names(mymean)
as.vector(mymean)
}
avg()
library(data.table)
library(dplyr)
testmakedataset <- function(){
testset <- read.table("../Raw data/test/X_test.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
testset <- testset[k[1]]
#setnames(testset , old = names(testset) , new =  as.character(lapply(names(testset), paste0, "test")))
activity <- read.table("../Raw data/test/y_test.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
testsubject <- read.table("../Raw data/test/subject_test.txt")
setnames(testsubject ,old = "V1",new = "Subjects")
cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
mymean <- lapply(split(tidydata, interact), function(x) mean(x$V1))
activity.subject <- names(mymean)
value.mean <- sapply(mymean, function(x){as.numeric(x[2])})
finalframe <- data.frame(activity.subject, value.mean)
finalframe
}
avg()
library(data.table)
library(dplyr)
testmakedataset <- function(){
testset <- read.table("../Raw data/test/X_test.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
testset <- testset[k[1]]
#setnames(testset , old = names(testset) , new =  as.character(lapply(names(testset), paste0, "test")))
activity <- read.table("../Raw data/test/y_test.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
testsubject <- read.table("../Raw data/test/subject_test.txt")
setnames(testsubject ,old = "V1",new = "Subjects")
cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
mymean <- lapply(split(tidydata, interact), function(x) mean(x$V1))
activity.subject <- names(mymean)
value.mean <- sapply(mymean, function(x){as.numeric(x[1])})
finalframe <- data.frame(activity.subject, value.mean)
finalframe
}
avg()
library(data.table)
library(dplyr)
testmakedataset <- function(){
testset <- read.table("../Raw data/test/X_test.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
testset <- testset[k[1]]
#setnames(testset , old = names(testset) , new =  as.character(lapply(names(testset), paste0, "test")))
activity <- read.table("../Raw data/test/y_test.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
testsubject <- read.table("../Raw data/test/subject_test.txt")
setnames(testsubject ,old = "V1",new = "Subjects")
cbind(testsubject, activity, testset)
}
trainmakedataset <- function(){
trainset <- read.table("../Raw data/train/X_train.txt")
features <- read.table("../Raw data/features.txt")
k <- grep("mean|std", features$V2)
trainset <- trainset[k[1]]
#setnames(trainset , old = names(trainset) , new =  as.character(lapply(names(trainset), paste0, "train")))
activity <- read.table("../Raw data/train/y_train.txt")
setnames(activity ,old = "V1",new = "Activity")
activity <- factor(as.integer(activity$Activity), labels =c("WALKING" , "WALKING_UPSTAIRS", "WALKING_DOWNSTAIRS", "SITTING", "STANDING", "LAYING"))
trainsubject <- read.table("../Raw data/train/subject_train.txt")
setnames(trainsubject ,old = "V1",new = "Subjects")
cbind(trainsubject, activity, trainset)
}
combine <- function(){
testset <- testmakedataset()
trainset <- trainmakedataset()
findata <- rbind(trainset, testset)
#head(testset, n=1)
#str(findata)
write.csv(findata, file = "../findata.csv")
}
avg <- function(){
tidydata <- read.csv("../findata.csv")
tidydata <- arrange(tidydata, Subjects)
tidydata <- tidydata[2:ncol(tidydata)]
tidydata$Subjects <- factor(tidydata$Subjects, labels = 1:30)
interact <- interaction(tidydata$Subjects, tidydata$activity)
mymean <- lapply(split(tidydata, interact), function(x) mean(x$V1))
activity.subject <- names(mymean)
value.mean <- sapply(mymean, function(x){as.numeric(x[1])})
finalframe <- data.frame(activity.subject, value.mean)
write.csv(finalframe,"../average-subject-activity.csv")
}
avg()
